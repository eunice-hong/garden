---
title: "ERC-721 ì»¨íŠ¸ë™ ì§ì ‘ ìƒì„±í•˜ê¸°: Solidity 10ì¼ ì±Œë¦°ì§€ - 07ì¼ì°¨"
date:   2023-06-16 23:01:00 +0900
image: /assets/images/eunice-hong-opengraph.jpg
headerImage: false
tags: ["10-days-of-solidity", "ğŸŒ¿"]
category: book
author: eunice-hong
description: ERC-721 ê³„ì•½ì„ ì‘ì„±í•˜ëŠ” ë°©ë²•ê³¼ NFTì˜ ì¤‘ìš”ì„±ì— ëŒ€í•´ ì•Œì•„ë´…ì‹œë‹¤.
languages: ["ko"]
---

NFTëŠ” ì´ì œ ì„¸ê³„ë¥¼ íœ©ì“¸ê³  ìˆìŠµë‹ˆë‹¤!
NFTëŠ” ì•„ì´í…œê³¼ ì„œë¹„ìŠ¤ë¥¼ ìˆ˜ìµí™”í•¨ìœ¼ë¡œì¨ ìš°ë¦¬ ì‚¬íšŒì˜ ëª¨ë“  ì¸¡ë©´ì„ ë°”ê¾¸ê³  ìˆì£ .
í¬ë¦½í†  ëŒ€ì¤‘ì„ í†µí•´ NFTê°€ ì°½ì¶œí•œ ì—„ì²­ë‚œ ì–‘ì˜ ë§¤ì¶œì€ ë””ì§€í„¸ ì˜ˆìˆ ê³¼ ìˆ˜ì§‘í’ˆì˜ ì„¸ê³„ë¥¼ ì™„ì „íˆ ë°”ê¾¸ì–´ ë†“ì•˜ìŠµë‹ˆë‹¤. 
ë””ì§€í„¸ í† í°ì˜ ì¸ê¸°ê°€ ì¹˜ì†Ÿìœ¼ë©´ì„œ ë‹¤ì–‘í•œ í† í° í‘œì¤€ì´ ì¡´ì¬ë¡œ ì§„í™”í–ˆìŠµë‹ˆë‹¤. 
ERC-20 í† í°ì— ëŒ€í•´ì„œëŠ” ì´ë¯¸ ë…¼ì˜í•œ ë°” ìˆê³ , ì´ë²ˆ íŠœí† ë¦¬ì–¼ì—ì„œëŠ” ERC-721 ê³„ì•½ì„ ì‘ì„±í•´ë³´ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤. 
ERC-721 í‘œì¤€ì— ëŒ€í•œ ìì„¸í•œ ë‚´ìš©ê³¼ ìŠ¤ë§ˆíŠ¸ ê³„ì•½ì„ ì‘ì„±í•˜ëŠ” ë°©ë²•ì— ëŒ€í•´ ì•Œì•„ë³´ë ¤ë©´ ì§‘ì¤‘í•´ì„œ ì½ì–´ì£¼ì„¸ìš”.!

## ERC-721 í‘œì¤€ì€ ë¬´ì—‡ì…ë‹ˆê¹Œ?

ERC-721ì€ NFT ë§ˆë‹ˆì•„ë¥¼ ì´‰ë°œì‹œí‚¨ ì „ì„¤ì ì¸ í‘œì¤€ìœ¼ë¡œ ì—¬ê²¨ì§‘ë‹ˆë‹¤.
ì´ í‘œì¤€ì€ ë‹¤ì–‘í•œ íšê¸°ì ì¸ ê¸°ëŠ¥ ë•ë¶„ì— í¬ê²Œ ì„±ê³µí•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.
ERC-721ë¥¼ í†µí•´ ê³„ì • ê°„ì— NFT ì „ì†¡ì´ í¸ë¦¬í•´ì¡Œê³ , ë‹¤ë¥¸ í†µí™”ì™€ êµí™˜ë„ í•  ìˆ˜ ìˆê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤. 
ì‚¬ìœ ì¬ì‚°ì˜ ì¼ë¶€ ì†Œìœ ê¶Œ, ìˆ˜ì²œë§Œ ë‹¬ëŸ¬ì— íŒ”ë¦¬ëŠ” ë””ì§€í„¸ ì•„íŠ¸ ì¹´í”¼ ì›ë³¸ì˜ ë¸”ë¡ì²´ì¸ ì†Œìœ ê¶Œ, 
ì—˜ë¦¬íŠ¸ í´ëŸ½ì˜ ê³µê³µ íšŒì›ì´ ëœ ë…íŠ¹í•œ ì•„ë°”íƒ€ ë“±ì´ ê·¸ ì˜ˆì‹œì…ë‹ˆë‹¤.

ì¼ë°˜ì ìœ¼ë¡œ ERC-20ê³¼ í˜¼ë™ë˜ê¸° ì‰½ìŠµë‹ˆë‹¤.
ERC-20ëŠ” ê³„ì•½ì„ ë§Œë“¤ ë•Œ, ê³ ìœ  IDì™€ URI ë˜ëŠ” Uniform Resource Locator ë¿ë§Œ ì•„ë‹ˆë¼ ì´ë¦„ì´ë‚˜ ê¸°í˜¸ì™€ ê°™ì€ ê¸°ë³¸ ë©”íƒ€ë°ì´í„°ê°€ í•„ìš”í•©ë‹ˆë‹¤. 
ERC-721ì€ ë‹¤ë¥¸ ERCì™€ëŠ” ë‹¤ë¥´ê²Œ ê³ ìœ  IDë¡œ ì¸í•´ ë³µì œí•  ìˆ˜ ì—†ë‹¤ëŠ” íŠ¹ì§•ì´ ìˆìŠµë‹ˆë‹¤. 
ERC-721 í‘œì¤€ì€ ìŠ¤ë§ˆíŠ¸ ê³„ì•½ ë‚´ì—ì„œ ë¹„-ì‹ íƒ(non-fiduciary) í† í°ì„ ë” ì‰½ê²Œ ë³´ìœ í•˜ê³  ì „ì†¡í•  ìˆ˜ ìˆë„ë¡ í–ˆìŠµë‹ˆë‹¤. 
ERC-721ê³¼ ê´€ë ¨ëœ ê¸°ë³¸ ì‚¬í•­ì„ ëª‡ ê°€ì§€ ë³µìŠµí–ˆìœ¼ë¯€ë¡œ, ì´ì œ ERC-721ê³¼ì˜ ê³„ì•½ êµ¬ì¶•ìœ¼ë¡œ ë„˜ì–´ê°‘ì‹œë‹¤.

## ì˜¤í”ˆ ì œí”Œë¦°ì„ ì‚¬ìš©í•˜ì—¬ ê°„ë‹¨í•œ ERC-721 ê³„ì•½ ì²´ê²°í•˜ê¸°

ë‹¤ìŒ íŠœí† ë¦¬ì–¼ì—ì„œëŠ” ê³„ì•½ì„œ ì‘ì„±, ì»´íŒŒì¼, ë°°í¬ë¥¼ ìœ„í•œ ê¸°ë³¸ IDEë¡œ [Remix][remix] ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.

- Remixë¡œ ì´ë™í•˜ì—¬ "HelloNFT.sol"ì´ë¼ëŠ” ì´ë¦„ì˜ ìƒˆ íŒŒì¼ì„ ë§Œë“­ë‹ˆë‹¤. ì—¬ê¸°ì„œ ìŠ¤ë§ˆíŠ¸ ê³„ì•½ì„œë¥¼ ì‘ì„±í•©ë‹ˆë‹¤.
- ì½”ë“œë¥¼ ì´ˆê¸°í™”í•˜ê¸° ì „ì— ê¸°ë³¸ ë¼ì´ì„¼ìŠ¤ì™€ í•¨ê»˜ pragmaë¥¼ ì‚¬ìš©í•˜ì—¬ ê³„ì•½ì— ëŒ€í•œ Solidity ì»´íŒŒì¼ëŸ¬ ë²„ì „ì„ ì •ì˜í•´ì•¼ í•©ë‹ˆë‹¤:

```solidity
// SPDX-License-Identifier:UNLICENSED

pragma solidity ^0.8.9;
```

- Solidity ì»´íŒŒì¼ëŸ¬ ë²„ì „ì„ ì„ ì–¸í•œ í›„, ìš°ë¦¬ëŠ” ê³µì‹ ì†ŒìŠ¤ì—ì„œ ì ì ˆí•œ Open Zeppelin ë¼ì´ë¸ŒëŸ¬ë¦¬ë¡œ ERC721ì„ ê°€ì ¸ì˜µë‹ˆë‹¤.
- ERC721 ë¼ì´ë¸ŒëŸ¬ë¦¬ì—ëŠ” ERC-721 ì¤€ìˆ˜ë¡œ ê°„ì£¼ë˜ëŠ” ê³„ì•½ì— í•„ìš”í•œ ê¸°ë³¸ ì •ì˜ê°€ í¬í•¨ë˜ì–´ ìˆìŠµë‹ˆë‹¤.

```solidity
import "@openzeppelin/contracts/token/ERC721/ERC721.sol";
```

- ê³„ì•½ ì´ë¦„ì€ Hellonftë¼ê³  ì§“ê³ , ê¸°í˜¸ë¥¼ "HNFT" ë¡œ ì •ì˜í•˜ê³  ERC-721 ì¤€ìˆ˜í•˜ëŠ” ê²ƒì´ë¼ê³  ì„ ì–¸í•©ë‹ˆë‹¤.

```solidity
contract Hellonft is ERC721("HelloNft", "HNFT") {
```

- ê·¸ ë‹¤ìŒ tokenId(ê° í† í°ì— ëŒ€í•œ ê³ ìœ  ì‹ë³„ì)ë¥¼ 0ìœ¼ë¡œ ì´ˆê¸°í™”í•©ë‹ˆë‹¤.

```solidity
uint tokenId;
```

- ì£¼ì†Œë¥¼ í‚¤ë¡œ í•˜ê³  `tokenMetaData`ë¥¼ ê°’ìœ¼ë¡œ í•˜ëŠ” ë§¤í•‘ì„ ë§Œë“­ë‹ˆë‹¤.

```solidity
mapping(address=>tokenMetaData[]) public ownershipRecord;
```
- `struct tokenMetaData`ëŠ” ê° í† í°ì˜ `tokenId`, `timestamp`, `tokenURI`ë¥¼ í•œ ê³³ì— ëª¨ì•„ 
  `ownershipRecord`ì˜ ì£¼ì†Œì™€ ì™„ì „íˆ ì—°ê²°ë˜ë„ë¡ ì„¤ê³„ë˜ì—ˆìŠµë‹ˆë‹¤.

```solidity
struct tokenMetaData {
	uint tokenId;
	uint timeStamp;
	string tokenURI;
}
```
We mint the sample image in the .png format.
- ì´ì œ ìš°ë¦¬ëŠ” ìš°ë¦¬ì˜ mintToken í•¨ìˆ˜ë¥¼ ì‘ì„±í•´ë´…ì‹œë‹¤. ë¯¼íŒ…(Minting)ì„ í†µí•´ ë‹¤ì–‘í•œ ìì‚°ì„ í† í°í™”í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. 
- ë‹¤ìŒ ì½”ë“œë¡œ ìƒ˜í”Œ ì´ë¯¸ì§€ë¥¼ `.png` í˜•ì‹ìœ¼ë¡œ ë¯¼íŒ…í•©ë‹ˆë‹¤.

```solidity
function mintToken(address recipient, string memory url) public {
```

- ì´ì œ í•¨ìˆ˜ `_safeMint` ë¥¼ ì‚¬ìš©í•˜ì—¬ ERC721 ê³„ì•½ì—ì„œ ê°€ì ¸ì˜¨ ë¯¼íŒ… í”„ë¡œì„¸ìŠ¤ë¥¼ ì‹œì‘í•˜ê³  
  `tokenMetaData`ë¥¼ ìˆ˜ì‹ ê¸°ì— í‘¸ì‹œí•˜ì—¬ ìì²´ `ownershipRecord`ë¥¼ ìœ ì§€í•©ë‹ˆë‹¤. 
  ìš°ë¦¬ëŠ” ê³„ì•½ì—ì„œ í† í°ì„ ë¯¼íŒ…í•˜ê¸° ìœ„í•´ URIì™€ ë™ì¼í•œ .png íŒŒì¼ì„ í•˜ë“œ ì½”ë”©í•˜ì—¬ ìƒí™©ì„ ë‹¨ìˆœí™”í–ˆìŠµë‹ˆë‹¤.

```solidity
_safeMint(recipient, tokenId);
        ownershipRecord[recipient].push(tokenMetaData(tokenId, block.timestamp, url));
        tokenId = tokenId + 1;
    }
}
```

- ì´ì œ Remixë¥¼ í¬í•¨í•œ ëª¨ë“  í…ŒìŠ¤íŠ¸ ë„¤íŠ¸ì›Œí¬ì—ì„œ ì´ ê³„ì•½ì„ êµ¬ì¶•í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì „ì²´ ê³„ì•½ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤:

```solidity
// SPDX-License-Identifier:UNLICENSED

pragma solidity ^0.8.9;

import "@openzeppelin/contracts/token/ERC721/ERC721.sol";

contract Hellonft is ERC721("HelloNft", "HNFT") {
    uint tokenId;
    mapping(address=>tokenMetaData[]) public ownershipRecord;

    struct tokenMetaData {
        uint tokenId;
        uint timeStamp;
        string tokenURI;
    }

    function mintToken(address recipient, string memory url) public {
        _safeMint(recipient, tokenId);
        ownershipRecord[recipient].push(tokenMetaData(tokenId, block.timestamp, url));
        tokenId = tokenId + 1;
    }
}
```
 
- í•¨ìˆ˜ mintToken ë¥¼ í†µí•´ ë‹¹ì‹ ì˜ ì²« NFTë¥¼ í† í°í™”í–ˆìŠµë‹ˆë‹¤!

## ì •ë¦¬í•˜ë©°...

ì´ íŠœí† ë¦¬ì–¼ì—ì„œëŠ” Open Zeppelinì„ ì‚¬ìš©í•˜ì—¬ NFT ERC-721 ê³„ì•½ì„ êµ¬ì¶•í•˜ëŠ” ê³¼ì •ì„ ì‚´í´ë³´ì•˜ìŠµë‹ˆë‹¤. 
ë˜í•œ ê°€ì¥ ì¼ë°˜ì ì¸ í† í° í‘œì¤€ì˜ ê¸°ì´ˆì™€ ë³¸ì§ˆ, ì¸ê¸° ì¦ê°€ ì´ìœ ì— ëŒ€í•´ ìì„¸íˆ ì„¤ëª…í–ˆìŠµë‹ˆë‹¤. 
ì´ ê¸€ì´ ì²« ë²ˆì§¸ NFT ìŠ¤ë§ˆíŠ¸ ê³„ì•½ì„ ë§Œë“œëŠ” ë° ë„ì›€ì´ ë˜ì—ˆê¸°ë¥¼ ë°”ëë‹ˆë‹¤!

[remix]: https://remix.ethereum.org/